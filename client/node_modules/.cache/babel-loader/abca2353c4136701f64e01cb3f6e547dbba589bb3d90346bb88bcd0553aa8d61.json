{"ast":null,"code":"var _jsxFileName = \"/Volumes/workspace/Field of work/APARAVI2/client/src/pages/Search.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useMutation } from 'react-query';\nimport { Box, TextField, Button, FormControl, InputLabel, Select, MenuItem, Paper, Typography, Alert, CircularProgress } from '@mui/material';\nimport SearchIcon from '@mui/icons-material/Search';\nimport api from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst queryTypes = [{\n  value: 'factual',\n  label: 'Factual'\n}, {\n  value: 'summarization',\n  label: 'Summarization'\n}, {\n  value: 'semantic_linkage',\n  label: 'Semantic Linkage'\n}, {\n  value: 'reasoning',\n  label: 'Reasoning'\n}];\nconst Search = () => {\n  _s();\n  const navigate = useNavigate();\n  const [query, setQuery] = useState('');\n  const [queryType, setQueryType] = useState('factual');\n  const [error, setError] = useState(null);\n  const queryMutation = useMutation(queryRequest => api.processQuery(queryRequest), {\n    onSuccess: data => {\n      navigate('/results', {\n        state: {\n          results: data\n        }\n      });\n    },\n    onError: error => {\n      setError(error instanceof Error ? error.message : 'An error occurred');\n    }\n  });\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (!query.trim()) {\n      setError('Please enter a query');\n      return;\n    }\n    queryMutation.mutate({\n      text: query,\n      type: queryType\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    component: \"form\",\n    onSubmit: handleSubmit,\n    sx: {\n      maxWidth: 800,\n      mx: 'auto',\n      mt: 4\n    },\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      sx: {\n        p: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        gutterBottom: true,\n        children: \"Search Knowledge Base\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        sx: {\n          mb: 2\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n        fullWidth: true,\n        sx: {\n          mb: 3\n        },\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Enter your query\",\n          value: query,\n          onChange: e => setQuery(e.target.value),\n          multiline: true,\n          rows: 3,\n          variant: \"outlined\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n        fullWidth: true,\n        sx: {\n          mb: 3\n        },\n        children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n          children: \"Query Type\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          value: queryType,\n          label: \"Query Type\",\n          onChange: e => setQueryType(e.target.value),\n          children: queryTypes.map(type => /*#__PURE__*/_jsxDEV(MenuItem, {\n            value: type.value,\n            children: type.label\n          }, type.value, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        variant: \"contained\",\n        size: \"large\",\n        startIcon: queryMutation.isLoading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 48\n        }, this) : /*#__PURE__*/_jsxDEV(SearchIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 81\n        }, this),\n        disabled: queryMutation.isLoading,\n        fullWidth: true,\n        children: queryMutation.isLoading ? 'Searching...' : 'Search'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n_s(Search, \"nH6mRKZQ6c2wq4YAz2M1Asi54V8=\", false, function () {\n  return [useNavigate, useMutation];\n});\n_c = Search;\nexport default Search;\nvar _c;\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"names":["React","useState","useNavigate","useMutation","Box","TextField","Button","FormControl","InputLabel","Select","MenuItem","Paper","Typography","Alert","CircularProgress","SearchIcon","api","jsxDEV","_jsxDEV","queryTypes","value","label","Search","_s","navigate","query","setQuery","queryType","setQueryType","error","setError","queryMutation","queryRequest","processQuery","onSuccess","data","state","results","onError","Error","message","handleSubmit","e","preventDefault","trim","mutate","text","type","component","onSubmit","sx","maxWidth","mx","mt","children","p","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","severity","mb","fullWidth","onChange","target","multiline","rows","map","size","startIcon","isLoading","disabled","_c","$RefreshReg$"],"sources":["/Volumes/workspace/Field of work/APARAVI2/client/src/pages/Search.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useMutation } from 'react-query';\nimport {\n  Box,\n  TextField,\n  Button,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  Paper,\n  Typography,\n  Alert,\n  CircularProgress,\n} from '@mui/material';\nimport SearchIcon from '@mui/icons-material/Search';\nimport api, { QueryRequest } from '../services/api';\n\nconst queryTypes = [\n  { value: 'factual', label: 'Factual' },\n  { value: 'summarization', label: 'Summarization' },\n  { value: 'semantic_linkage', label: 'Semantic Linkage' },\n  { value: 'reasoning', label: 'Reasoning' },\n] as const;\n\ntype QueryType = typeof queryTypes[number]['value'];\n\nconst Search: React.FC = () => {\n  const navigate = useNavigate();\n  const [query, setQuery] = useState('');\n  const [queryType, setQueryType] = useState<QueryType>('factual');\n  const [error, setError] = useState<string | null>(null);\n\n  const queryMutation = useMutation(\n    (queryRequest: QueryRequest) => api.processQuery(queryRequest),\n    {\n      onSuccess: (data) => {\n        navigate('/results', { state: { results: data } });\n      },\n      onError: (error) => {\n        setError(error instanceof Error ? error.message : 'An error occurred');\n      },\n    }\n  );\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!query.trim()) {\n      setError('Please enter a query');\n      return;\n    }\n\n    queryMutation.mutate({\n      text: query,\n      type: queryType,\n    });\n  };\n\n  return (\n    <Box\n      component=\"form\"\n      onSubmit={handleSubmit}\n      sx={{\n        maxWidth: 800,\n        mx: 'auto',\n        mt: 4,\n      }}\n    >\n      <Paper sx={{ p: 4 }}>\n        <Typography variant=\"h4\" gutterBottom>\n          Search Knowledge Base\n        </Typography>\n        \n        {error && (\n          <Alert severity=\"error\" sx={{ mb: 2 }}>\n            {error}\n          </Alert>\n        )}\n\n        <FormControl fullWidth sx={{ mb: 3 }}>\n          <TextField\n            label=\"Enter your query\"\n            value={query}\n            onChange={(e) => setQuery(e.target.value)}\n            multiline\n            rows={3}\n            variant=\"outlined\"\n          />\n        </FormControl>\n\n        <FormControl fullWidth sx={{ mb: 3 }}>\n          <InputLabel>Query Type</InputLabel>\n          <Select\n            value={queryType}\n            label=\"Query Type\"\n            onChange={(e) => setQueryType(e.target.value as QueryType)}\n          >\n            {queryTypes.map((type) => (\n              <MenuItem key={type.value} value={type.value}>\n                {type.label}\n              </MenuItem>\n            ))}\n          </Select>\n        </FormControl>\n\n        <Button\n          type=\"submit\"\n          variant=\"contained\"\n          size=\"large\"\n          startIcon={queryMutation.isLoading ? <CircularProgress size={20} /> : <SearchIcon />}\n          disabled={queryMutation.isLoading}\n          fullWidth\n        >\n          {queryMutation.isLoading ? 'Searching...' : 'Search'}\n        </Button>\n      </Paper>\n    </Box>\n  );\n};\n\nexport default Search; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}